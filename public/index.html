<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="Chat application">
    <meta name="keywords" content="chat, chat application, chat app">
    <title>Chat</title>
    <link rel="stylesheet" href="dist/client.css">
    <script src="https://kit.fontawesome.com/4e3543c5e6.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="deprecated-warning" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495ZM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
        </svg>
        <strong>Warning:</strong>
        <p>This website is deprecated and will be removed in the future. Please use the <a href="https://magentapenguin.github.io/chat2/">new chat</a> instead.</p>
        <script>
            fetch('https://magentapenguin.github.io/chat2/')
                .then(response => {
                    if (response.status !== 404) {
                        document.getElementById('deprecated-warning').hidden = false;
                    }
                })
                .catch(() => {
                    // If the request fails, we keep the warning visible
                });
        </script>
    </div>
    <div id="tl-bar">
        <button id="allow-notifications" class="link">Allow notifications</button>
        <button id="share" class="link">Share</button>
    </div>  
    <connection-status></connection-status>
    <div id="chat">
        <noscript>
            <p>This website requires Javascript to function properly. Please enable Javascript in your browser.</p>
        </noscript>
    </div>
    <div id="chat-form-container">
        <div>Your id: <strong id="chat-id" class="user" title="Use !nick &lt;nick&gt; to change nicknames">Loading...</strong> | Room: <strong id="chat-room"
                title="Use !move &lt;room&gt; to move rooms">Loading...</strong></div>
        <form id="chat-form">
            <input type="text" name="message" id="message" placeholder="Type your message here">
            <!-- TODO: <div id="emoji-picker"></div>-->
            <button type="submit">Send</button>
        </form>
        <small id="chat-tip-container"><span id="chat-tip" aria-live="polite"><noscript>Don't you need Javascript for this?</noscript></span> <button id="chat-tip-next" class="link">Next Tip</button></small>
    </div>
    <div id="localstorage-consent">
        <p>This website uses local storage to store data. By using this website you agree to this.</p> <button
            id="localstorage-consent-button">Close</button>
        <br>
    </div>  
    <script src="dist/client.js" defer></script>
</body>

</html>